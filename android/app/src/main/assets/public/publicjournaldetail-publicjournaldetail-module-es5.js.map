{"version":3,"sources":["webpack:///src/app/publicjournaldetail/publicjournaldetail.page.html","webpack:///src/app/publicjournaldetail/publicjournaldetail-routing.module.ts","webpack:///src/app/publicjournaldetail/publicjournaldetail.module.ts","webpack:///src/app/publicjournaldetail/publicjournaldetail.page.scss","webpack:///src/app/publicjournaldetail/publicjournaldetail.page.ts"],"names":["routes","path","component","PublicjournaldetailPageRoutingModule","imports","forChild","exports","PublicjournaldetailPageModule","declarations","Storage","PublicjournaldetailPage","activatedRoute","http","toastController","router","id","journals","name","date","journal_id","status","todos","user","email","password","phone","api_token","date_of_birth","gender","hospital_id","snapshot","paramMap","get","getUser","headers","options","post","subscribe","resp","proccess","err","showError","data","create","message","duration","toast","present","navigate","getJournal","key","ret","JSON","parse","value","selector","template"],"mappings":"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","file":"publicjournaldetail-publicjournaldetail-module-es5.js","sourcesContent":["export default \"<ion-header>\\n\\t<ion-toolbar color=\\\"danger\\\">\\n\\t\\t<ion-title>{{ journals.name }}</ion-title>\\n\\t</ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\t<ion-list>\\n\\t\\t<ion-item *ngFor=\\\"let journal of journals.todos\\\" class=\\\"item-terpopuler\\\">\\n\\t\\t\\t<ion-grid>\\n\\t\\t\\t\\t<ion-row>\\n\\t\\t\\t\\t\\t<ion-col size=\\\"11\\\">\\n\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"journal.todo_category_id == 1\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div>\\n\\t\\t\\t\\t\\t\\t\\t\\t<b>{{ journal.type.name }}</b>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<div>{{ journal.type.description }}</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"journal.todo_category_id != 1\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div>\\n\\t\\t\\t\\t\\t\\t\\t\\t<b>{{ journal.category.name  }}</b>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<div *ngIf=\\\"journal.data; else typename\\\">{{ journal.data  }}</div>\\n\\t\\t\\t\\t\\t\\t\\t<ng-template #typename>\\n\\t\\t\\t\\t\\t\\t\\t\\t{{ journal.type.name  }}\\n\\t\\t\\t\\t\\t\\t\\t</ng-template>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t\\t\\t<ion-col size=\\\"1\\\">\\n\\t\\t\\t\\t\\t\\t<ion-badge color=\\\"medium\\\" *ngIf=\\\"journal.status == 0\\\">&nbsp;&nbsp;&nbsp;</ion-badge>\\n\\t\\t\\t\\t\\t\\t<ion-badge color=\\\"success\\\" *ngIf=\\\"journal.status == 1\\\">&nbsp;&nbsp;&nbsp;</ion-badge>\\n\\t\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t\\t</ion-row>\\n\\t\\t\\t</ion-grid>\\n\\t\\t</ion-item>\\n\\t</ion-list>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PublicjournaldetailPage } from './publicjournaldetail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PublicjournaldetailPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PublicjournaldetailPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PublicjournaldetailPageRoutingModule } from './publicjournaldetail-routing.module';\n\nimport { PublicjournaldetailPage } from './publicjournaldetail.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PublicjournaldetailPageRoutingModule\n  ],\n  declarations: [PublicjournaldetailPage]\n})\nexport class PublicjournaldetailPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3B1YmxpY2pvdXJuYWxkZXRhaWwvcHVibGljam91cm5hbGRldGFpbC5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { api_base_url } from 'src/config';\nimport { ToastController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { Plugins } from '@capacitor/core';\nconst { Storage } = Plugins;\n\n@Component({\n  selector: 'app-publicjournaldetail',\n  templateUrl: './publicjournaldetail.page.html',\n  styleUrls: ['./publicjournaldetail.page.scss'],\n})\n\nexport class PublicjournaldetailPage implements OnInit {\n\n  id = null\n\n  journals = {\n    id :  null,\n    name:   null,\n    date:   null,\n    journal_id:  null,\n    status :  null,\n    todos : []\n  }\n\n  user = {\n    id: null,\n    name: null,\n    email: null,\n    password: null,\n    phone: null,\n    api_token: null,\n    date_of_birth: null,\n    gender: null,\n    hospital_id: null\n  }\n\n\tconstructor(private activatedRoute: ActivatedRoute, private http: HttpClient, public toastController: ToastController,  public router : Router) { }\n\n\tngOnInit() {\n    this.id= this.activatedRoute.snapshot.paramMap.get('id');\n    this.getUser()\n  }\n  \n  getJournal() {\n    let headers = new HttpHeaders({\n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer ' + this.user.api_token });\n\n    let options = { headers: headers };\n\n\t\tthis.http.post(api_base_url + '/journal/public-detail/' + this.id, {}, options).subscribe(resp => {       \n\t\t\tthis.proccess(resp)\n\t\t}, err => {\n\t\t\tthis.showError(err)\n\t\t});\n  }\n\n  proccess(resp) {\n    this.journals = resp.data\n  }\n\n  async showError(err) {\n    const toast = await this.toastController.create({\n      message: err,\n      duration: 2000\n    });\n    toast.present();\n  }\n\n  goToAddTodo(){\n\t\tthis.router.navigate(['/addtodo', this.id])\n\t}\n\n  ionViewWillEnter() {\n    this.getJournal()\n  }\n\n  updateFlag(id, status){\n    let headers = new HttpHeaders({\n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer ' + this.user.api_token });\n\n    let options = { headers: headers };\n\n\t\tthis.http.post(api_base_url + '/todo/update/', {id : id, status : status}, options).subscribe(resp => {       \n\t\t\tthis.getJournal()\n\t\t}, err => {\n\t\t\tthis.showError(err)\n\t\t});\n  }\n\n  async getUser() {\n    const ret = await Storage.get({ key: 'user' });\n    this.user = JSON.parse(ret.value);\n  }\n}\n"]}